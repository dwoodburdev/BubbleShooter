<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Emoji Pop!</title>
    <link rel="icon" type="image/GIF" href="res/favicon.ico"/>

    <meta name="viewport"
        content="width=device-width,user-scalable=no,initial-scale=1, minimum-scale=1,maximum-scale=1"/>

    <!--https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">

    <!-- force webkit on 360 -->
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <!-- force edge on IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="msapplication-tap-highlight" content="no">

    <!-- force full screen on some browser -->
    <meta name="full-screen" content="yes"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>

    <!-- force screen orientation on some browser -->
    <!-- <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-orientation" content="portrait"> -->

    <meta name="browsermode" content="application">
    <meta name="x5-page-mode" content="app">
    
    
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
	    google_ad_client: "ca-pub-8363944833764789",
	    enable_page_level_ads: true
	  });
	</script>
    
    

<style type="text/css">
html {
  -ms-touch-action: none;
}

body, /*canvas,*/ div {
  margin: 0;
  padding: 0;
  outline: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -khtml-user-select: none;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
#gameCanvas {
	margin: 0;
  padding: 0;
  outline: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -khtml-user-select: none;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

body {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 0;
  border: 0;
  margin: 0;

  cursor: default;
  color: #888;
  background-color: #eee;

  text-align: center;
  font-family: Helvetica, Verdana, Arial, sans-serif;

  display: flex;
  flex-direction: column;
}

#Cocos2dGameContainer {
  position: absolute;
  margin: 0;
  overflow: hidden;
  left: 0px;
  top: 0px;

  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: center;
  -webkit-box-pack: center;
}

canvas {
  background-color: rgba(0, 0, 0, 0);
}
#rightCanvas {
	position:absolute;
	right:0px;
	float:right;
}
#leftCanvas {
	position:absolute;
	left:0px;
	float:left;
}
#rightTest {
	float:right;
}



/* Button used to open the contact form - fixed at the bottom of the page */
.open-button {
  background-color: #555;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  opacity: 0.8;
  position: fixed;
  bottom: 23px;
  right: 28px;
  width: 280px;
}

/* The popup form - hidden by default */
.form-popup {
  display: none;
  position: fixed;
  bottom: 0;
  right: 0px;
  border: 3px solid #f1f1f1;
  z-index: 9;
  height:100%;
  width:33%;
}

/* Add styles to the form container */
.form-container {
  /*max-width: 300px;*/
  padding: 10px;
  background-color: white;
  height:100%;
  /*width:window.innerWidth/3;*/
}

/* Full-width input fields */
.form-container input[type=text], .form-container input[type=password] {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  border: none;
  background: #f1f1f1;
}

/* When the inputs get focus, do something */
.form-container input[type=text]:focus, .form-container input[type=password]:focus {
  background-color: #ddd;
  outline: none;
}

/* Set a style for the submit/login button */
.form-container .btn {
  background-color: #4CAF50;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  width: 100%;
  margin-bottom:10px;
  opacity: 0.8;
}

/* Add a red background color to the cancel button */
.form-container .cancel {
  background-color: red;
}

/* Add some hover effects to buttons */
.form-container .btn:hover, .open-button:hover {
  opacity: 1;
}




</style>
</head>
<body>
	<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.3&appId=812794032385400&autoLogAppEvents=1"></script>
<!--<script src="res/loading.js"></script>-->
<!--<img src="res/loading-dylan-presents.png">-->
<!--<img id="cocos2d_loadJsImg" src="res/HelloWorld.png"> -->

<canvas id="gameCanvas" width="480" height="720" ></canvas>



<!--
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-app.js"></script>

<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-functions.js"></script>
-->

 <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="/__/firebase/6.2.4/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="/__/firebase/6.2.4/firebase-auth.js"></script>
  <script src="/__/firebase/6.2.4/firebase-firestore.js"></script>


<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<script>

	if( screen.width <= 480 ) {
   		 location.href = '/mobile/index.html';
	}

  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyASHFTxdCzt-oMYnI9jieHfHHrjTCjoRlg",
    authDomain: "emoji-pop.firebaseapp.com",
    databaseURL: "https://emoji-pop.firebaseio.com",
    projectId: "emoji-pop",
    storageBucket: "emoji-pop.appspot.com",
    messagingSenderId: "575715115797"
  };
  firebase.initializeApp(config);
  
  
  

  
 
 
 
  
  
</script>

<div class="form-popup" id="myForm">
  <form action="javascript:;" onsubmit="validateLoginFormOnSubmit(this)" class="form-container">
    <h1>Login</h1>

    <label for="email"><b>Email/Username</b></label>
    <input type="text" placeholder="Enter Email/Username" name="email" required>

    <label for="psw"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="psw" required>

    <button type="submit" class="btn">Login</button>
    <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
  </form>
</div>

<div class="form-popup" id="shareForm">
  <form id="copyParent" action="javascript:;" onsubmit="validateLoginFormOnSubmit(this)" class="form-container">
    <h1>Share</h1>
	<h3>Here's a link to your level for social media</h3>
	<textarea id="copyContainer" style="width:80%;" >www.emojipopgame.com</textarea>

    <button type="button" id="copyButton" class="btn"  onclick="copyLevelTextCode()">(Copy)</button>
    <br>
    <button type="button" class="btn cancel" onclick="closeShareForm()">Close</button>
  </form>
</div>

<div class="form-popup" id="signupForm">
  <form action="javascript:;" onsubmit="validateFormOnSubmit(this)" class="form-container">
    <h1>Sign Up</h1>
<!--
    <label for="email"><b>Email</b></label>
    <input type="text" placeholder="Enter Email" name="email" required>

    <label for="psw"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="psw" required>

    <button type="submit" class="btn">Register</button>
    <button type="button" class="btn cancel" onclick="closeSignupForm()">Close</button>
  -->
  <!--
  	<div class="fb-login-button" data-width="" data-size="large" data-button-type="continue_with" data-auto-logout-link="false" data-use-continue-as="false"></div>
    
    <a id="google-button" class="btn btn-block btn-social btn-google">
	  <i class="fa fa-google"></i> Sign in with Google
	</a>
   -->
  </form>
</div>

<script>
function validateLoginFormOnSubmit(form)
{
	var emailUser = form.elements[0].value;
	var password = form.elements[1].value;
	console.log(emailUser + " " + password);
	firebase.auth().signInWithEmailAndPassword(email, password).then(function() {cc.log(firebase.auth().O);
		// EVENTUALLY NEED TO LOAD WORLD BUBBLES HERE I THINK GIVEN USERID
		var user_id = firebase.auth().O;
		cc.sys.localStorage.setItem("userID", user_id);
		
		var scene = cc.Director.sharedDirector._runningScene;
		scene.dataManager.initUserWebData(user_id);
		
		
		
		//cc.director.runScene(new EditorScene());
		
		
	}).catch(function(error) {
	  // Handle Errors here.
		var errorCode = error.code;
		var errorMessage = error.message;
		console.log(errorMessage);
		
		//this.errorLabel.setString("Invalid Login");
		
		
		
		//cc.director.runScene(new SignInScene(email, password));
	  // ...
	}); 
		
	closeForm();
}
function validateFormOnSubmit(form)
{
	var email = form.elements[0].value;
	var username = form.elements[1].value;
	var password = form.elements[2].value;
	console.log(email + " " + username + " " + password);
	
	
	
	firebase.auth().createUserWithEmailAndPassword(email, password).then(function(error) {
		var user_id = firebase.auth().O;
		cc.sys.localStorage.setItem("userID", user_id);
		
		var newWorld = {
			bubbles:{"0_0" : {"col" : 0,    "colorCode" : "green",    "row" : 0,    "type" : 0  },  "0_1" : {    "col" : 1,    "colorCode" : "green",    "row" : 0,    "type" : 0  },  "0_10" : {    "col" : 10,    "colorCode" : "yellow",    "row" : 0,    "type" : 0  },  "0_11" : {    "col" : 11,    "colorCode" : "yellow",    "row" : 0,    "type" : 0  },  "0_2" : {    "col" : 2,    "colorCode" : "red",    "row" : 0,    "type" : 0  },  "0_3" : {    "col" : 3,    "colorCode" : "red",    "row" : 0,    "type" : 0  },  "0_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 0,    "type" : 0  },  "0_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 0,    "type" : 0  },  "0_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 0,    "type" : 0  },  "0_7" : {    "col" : 7,    "colorCode" : "red",    "row" : 0,    "type" : 0  },  "0_8" : {    "col" : 8,    "colorCode" : "blue",    "row" : 0,    "type" : 0  },  "0_9" : {    "col" : 9,    "colorCode" : "blue",    "row" : 0,    "type" : 0  },  "10_5" : {    "col" : 5,    "colorCode" : "green",    "row" : 10,    "type" : 0  },  "10_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 10,    "type" : 0  },  "11_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 11,    "type" : 0  },  "11_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 11,    "type" : 0  },  "12_0" : {    "col" : 0,    "colorCode" : "green",    "row" : 12,    "type" : 0  },  "12_1" : {    "col" : 1,    "colorCode" : "green",    "row" : 12,    "type" : 0  },  "12_10" : {    "col" : 10,    "colorCode" : "green",    "row" : 12,    "type" : 0  },  "12_11" : {    "col" : 11,    "colorCode" : "green",    "row" : 12,    "type" : 0  },  "12_2" : {    "col" : 2,    "colorCode" : "yellow",    "row" : 12,    "type" : 0  },  "12_3" : {    "col" : 3,    "colorCode" : "yellow",    "row" : 12,    "type" : 0  },  "12_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 12,    "type" : 0  },  "12_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 12,    "type" : 0  },  "12_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 12,    "type" : 0  },  "12_7" : {    "col" : 7,    "colorCode" : "yellow",    "row" : 12,    "type" : 0  },  "12_8" : {    "col" : 8,    "colorCode" : "red",    "row" : 12,    "type" : 0  },  "12_9" : {    "col" : 9,    "colorCode" : "red",    "row" : 12,    "type" : 0  },  "13_0" : {    "col" : 0,    "colorCode" : "blue",    "row" : 13,    "type" : 0  },  "13_1" : {    "col" : 1,    "colorCode" : "blue",    "row" : 13,    "type" : 0  },  "13_10" : {    "col" : 10,    "colorCode" : "yellow",    "row" : 13,    "type" : 0  },  "13_2" : {    "col" : 2,    "colorCode" : "red",    "row" : 13,    "type" : 0  },  "13_3" : {    "col" : 3,    "colorCode" : "red",    "row" : 13,    "type" : 0  },  "13_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 13,    "type" : 0  },  "13_5" : {    "col" : 5,    "row" : 13,    "type" : 20  },  "13_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 13,    "type" : 0  },  "13_7" : {    "col" : 7,    "colorCode" : "green",    "row" : 13,    "type" : 0  },  "13_8" : {    "col" : 8,    "colorCode" : "green",    "row" : 13,    "type" : 0  },  "13_9" : {    "col" : 9,    "colorCode" : "yellow",    "row" : 13,    "type" : 0  },  "14_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 14,    "type" : 0  },  "14_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 14,    "type" : 0  },  "14_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 14,    "type" : 0  },  "14_7" : {    "col" : 7,    "colorCode" : "red",    "row" : 14,    "type" : 0  },  "15_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 15,    "type" : 0  },  "15_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 15,    "type" : 0  },  "16_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 16,    "type" : 0  },  "16_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 16,    "type" : 0  },  "17_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 17,    "type" : 0  },  "17_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 17,    "type" : 0  },  "18_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 18,    "type" : 0  },  "18_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 18,    "type" : 0  },  "19_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 19,    "type" : 0  },  "19_5" : {    "col" : 5,    "row" : 19,    "type" : 20  },  "19_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 19,    "type" : 0  },  "1_0" : {    "col" : 0,    "colorCode" : "yellow",    "row" : 1,    "type" : 0  },  "1_1" : {    "col" : 1,    "colorCode" : "yellow",    "row" : 1,    "type" : 0  },  "1_10" : {    "col" : 10,    "colorCode" : "red",    "row" : 1,    "type" : 0  },  "1_2" : {    "col" : 2,    "colorCode" : "blue",    "row" : 1,    "type" : 0  },  "1_3" : {    "col" : 3,    "colorCode" : "blue",    "row" : 1,    "type" : 0  },  "1_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 1,    "type" : 0  },  "1_5" : {    "col" : 5,    "row" : 1,    "type" : 20  },  "1_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 1,    "type" : 0  },  "1_7" : {    "col" : 7,    "colorCode" : "green",    "row" : 1,    "type" : 0  },  "1_8" : {    "col" : 8,    "colorCode" : "green",    "row" : 1,    "type" : 0  },  "1_9" : {    "col" : 9,    "colorCode" : "red",    "row" : 1,    "type" : 0  },  "20_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 20,    "type" : 0  },  "20_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 20,    "type" : 0  },  "21_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 21,    "type" : 0  },  "21_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 21,    "type" : 0  },  "22_5" : {    "col" : 5,    "colorCode" : "green",    "row" : 22,    "type" : 0  },  "22_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 22,    "type" : 0  },  "23_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 23,    "type" : 0  },  "23_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 23,    "type" : 0  },  "24_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 24,    "type" : 0  },  "24_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 24,    "type" : 0  },  "25_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 25,    "type" : 0  },  "25_5" : {    "col" : 5,    "row" : 25,    "type" : 20  },  "25_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 25,    "type" : 0  },  "26_0" : {    "col" : 0,    "colorCode" : "red",    "row" : 26,    "type" : 0  },  "26_1" : {    "col" : 1,    "colorCode" : "red",    "row" : 26,    "type" : 0  },  "26_10" : {    "col" : 10,    "colorCode" : "red",    "row" : 26,    "type" : 0  },  "26_11" : {    "col" : 11,    "colorCode" : "red",    "row" : 26,    "type" : 0  },  "26_2" : {    "col" : 2,    "colorCode" : "green",    "row" : 26,    "type" : 0  },  "26_3" : {    "col" : 3,    "colorCode" : "green",    "row" : 26,    "type" : 0  },  "26_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 26,    "type" : 0  },  "26_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 26,    "type" : 0  },  "26_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 26,    "type" : 0  },  "26_7" : {    "col" : 7,    "colorCode" : "green",    "row" : 26,    "type" : 0  },  "26_8" : {    "col" : 8,    "colorCode" : "blue",    "row" : 26,    "type" : 0  },  "26_9" : {    "col" : 9,    "colorCode" : "blue",    "row" : 26,    "type" : 0  },  "27_0" : {    "col" : 0,    "colorCode" : "blue",    "row" : 27,    "type" : 0  },  "27_1" : {    "col" : 1,    "colorCode" : "blue",    "row" : 27,    "type" : 0  },  "27_10" : {    "col" : 10,    "colorCode" : "green",    "row" : 27,    "type" : 0  },  "27_2" : {    "col" : 2,    "colorCode" : "red",    "row" : 27,    "type" : 0  },  "27_3" : {    "col" : 3,    "colorCode" : "red",    "row" : 27,    "type" : 0  },  "27_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 27,    "type" : 0  },  "27_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 27,    "type" : 0  },  "27_7" : {    "col" : 7,    "colorCode" : "yellow",    "row" : 27,    "type" : 0  },  "27_8" : {    "col" : 8,    "colorCode" : "yellow",    "row" : 27,    "type" : 0  },  "27_9" : {    "col" : 9,    "colorCode" : "green",    "row" : 27,    "type" : 0  },  "28_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 28,    "type" : 0  },  "28_5" : {    "col" : 5,    "colorCode" : "green",    "row" : 28,    "type" : 0  },  "28_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 28,    "type" : 0  },  "28_7" : {    "col" : 7,    "colorCode" : "blue",    "row" : 28,    "type" : 0  },  "29_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 29,    "type" : 0  },  "29_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 29,    "type" : 0  },  "2_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 2,    "type" : 0  },  "2_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 2,    "type" : 0  },  "2_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 2,    "type" : 0  },  "2_7" : {    "col" : 7,    "colorCode" : "blue",    "row" : 2,    "type" : 0  },  "30_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 30,    "type" : 0  },  "30_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 30,    "type" : 0  },  "31_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 31,    "type" : 0  },  "31_5" : {    "col" : 5,    "row" : 31,    "type" : 20  },  "31_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 31,    "type" : 0  },  "32_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 32,    "type" : 0  },  "32_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 32,    "type" : 0  },  "33_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 33,    "type" : 0  },  "33_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 33,    "type" : 0  },  "34_5" : {    "col" : 5,    "colorCode" : "green",    "row" : 34,    "type" : 0  },  "34_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 34,    "type" : 0  },  "35_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 35,    "type" : 0  },  "35_5" : {    "col" : 5,    "row" : 35,    "type" : 20  },  "35_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 35,    "type" : 0  },  "36_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 36,    "type" : 0  },  "36_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 36,    "type" : 0  },  "37_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 37,    "type" : 0  },  "37_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 37,    "type" : 0  },  "38_0" : {    "col" : 0,    "colorCode" : "green",    "row" : 38,    "type" : 0  },  "38_1" : {    "col" : 1,    "colorCode" : "green",    "row" : 38,    "type" : 0  },  "38_10" : {    "col" : 10,    "colorCode" : "red",    "row" : 38,    "type" : 0  },  "38_11" : {    "col" : 11,    "colorCode" : "red",    "row" : 38,    "type" : 0  },  "38_2" : {    "col" : 2,    "colorCode" : "blue",    "row" : 38,    "type" : 0  },  "38_3" : {    "col" : 3,    "colorCode" : "blue",    "row" : 38,    "type" : 0  },  "38_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 38,    "type" : 0  },  "38_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 38,    "type" : 0  },  "38_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 38,    "type" : 0  },  "38_7" : {    "col" : 7,    "colorCode" : "green",    "row" : 38,    "type" : 0  },  "38_8" : {    "col" : 8,    "colorCode" : "yellow",    "row" : 38,    "type" : 0  },  "38_9" : {    "col" : 9,    "colorCode" : "yellow",    "row" : 38,    "type" : 0  },  "39_0" : {    "col" : 0,    "colorCode" : "red",    "row" : 39,    "type" : 0  },  "39_1" : {    "col" : 1,    "colorCode" : "red",    "row" : 39,    "type" : 0  },  "39_10" : {    "col" : 10,    "colorCode" : "green",    "row" : 39,    "type" : 0  },  "39_2" : {    "col" : 2,    "colorCode" : "yellow",    "row" : 39,    "type" : 0  },  "39_3" : {    "col" : 3,    "colorCode" : "yellow",    "row" : 39,    "type" : 0  },  "39_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 39,    "type" : 0  },  "39_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 39,    "type" : 0  },  "39_7" : {    "col" : 7,    "colorCode" : "blue",    "row" : 39,    "type" : 0  },  "39_8" : {    "col" : 8,    "colorCode" : "blue",    "row" : 39,    "type" : 0  },  "39_9" : {    "col" : 9,    "colorCode" : "green",    "row" : 39,    "type" : 0  },  "3_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 3,    "type" : 0  },  "3_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 3,    "type" : 0  },  "40_5" : {    "col" : 5,    "colorCode" : "green",    "row" : 40,    "type" : 0  },  "40_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 40,    "type" : 0  },  "41_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 41,    "type" : 0  },  "41_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 41,    "type" : 0  },  "42_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 42,    "type" : 0  },  "42_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 42,    "type" : 0  },  "43_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 43,    "type" : 0  },  "43_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 43,    "type" : 0  },  "44_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 44,    "type" : 0  },  "44_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 44,    "type" : 0  },  "45_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 45,    "type" : 0  },  "45_5" : {    "col" : 5,    "row" : 45,    "type" : 20  },  "45_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 45,    "type" : 0  },  "46_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 46,    "type" : 0  },  "46_6" : {    "col" : 6,    "colorCode" : "blue",    "row" : 46,    "type" : 0  },  "47_4" : {    "col" : 4,    "colorCode" : "green",    "row" : 47,    "type" : 0  },  "47_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 47,    "type" : 0  },  "48_5" : {    "col" : 5,    "colorCode" : "green",    "row" : 48,    "type" : 0  },  "48_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 48,    "type" : 0  },  "49_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 49,    "type" : 0  },  "49_5" : {    "col" : 5,    "row" : 49,    "type" : 20  },  "49_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 49,    "type" : 0  },  "4_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 4,    "type" : 0  },  "4_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 4,    "type" : 0  },  "50_5" : {    "col" : 5,    "colorCode" : "blue",    "row" : 50,    "type" : 0  },  "50_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 50,    "type" : 0  },  "51_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 51,    "type" : 0  },  "51_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 51,    "type" : 0  },  "52_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 52,    "type" : 0  },  "52_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 52,    "type" : 0  },  "5_4" : {    "col" : 4,    "colorCode" : "blue",    "row" : 5,    "type" : 0  },  "5_6" : {    "col" : 6,    "colorCode" : "red",    "row" : 5,    "type" : 0  },  "6_5" : {    "col" : 5,    "colorCode" : "yellow",    "row" : 6,    "type" : 0  },  "6_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 6,    "type" : 0  },  "7_4" : {    "col" : 4,    "colorCode" : "yellow",    "row" : 7,    "type" : 0  },  "7_5" : {    "col" : 5,    "row" : 7,    "type" : 20  },  "7_6" : {    "col" : 6,    "colorCode" : "green",    "row" : 7,    "type" : 0  },  "8_5" : {    "col" : 5,    "colorCode" : "red",    "row" : 8,    "type" : 0  },  "8_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 8,    "type" : 0  },  "9_4" : {    "col" : 4,    "colorCode" : "red",    "row" : 9,    "type" : 0  },  "9_6" : {    "col" : 6,    "colorCode" : "yellow",    "row" : 9,    "type" : 0  }},
			queue:{colors:{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0}, type:"bucket"}
		};
		
		var initUserData = {
			feature:newWorld,
			levelsBeaten:[],
			numStars:0,
			streak:0,
			timesLastPlayed:[],
			userId:user_id,
			userLevels:[]
		};
		//
		var scene = cc.Director.sharedDirector._runningScene;
		scene.dataManager.initNewUserWebData(user_id, initUserData);
		
	}).catch(function(error) {
		// Handle Errors here.
		var errorCode = error.code;
		var errorMessage = error.message;
		cc.log(errorCode);
		cc.log(errorMessage);
		
		if(errorCode == "auth/invalid-email")
		{
			//this.errorLabel.setString("Invalid Email");
			//this.makeFaceConcerned();
		}
		else if(errorCode == "auth/weak-password")
		{
			//this.errorLabel.setString("Password Too Short (min 6)");
			//this.makeFaceConcerned();
		}
		else if(errorCode == "auth/email-already-in-use")
		{
			//this.errorLabel.setString("Email Already Used");
			//this.makeFaceConcerned();
		}
	});


	
	
	
	closeSignupForm();
}

function copyLevelTextCode()
{
	var copyElem = document.getElementById("copyContainer");
	copyElem.select();
	document.execCommand("copy");
	var newCopyText = document.createTextNode("Copied");
	var parentOfCopy = document.getElementById("copyParent");
	var copyButton = document.getElementById("copyButton");
	parentOfCopy.replaceChild(newCopyText, copyButton);
}


function openForm() {console.log("OPENING FORM");
  document.getElementById("myForm").style.display = "block";
}

function closeForm() {
  document.getElementById("myForm").style.display = "none";
}

function openSignupForm() {console.log("OPENING FORM");
  document.getElementById("signupForm").style.display = "block";
}

function closeSignupForm() {
  document.getElementById("signupForm").style.display = "none";
}

function openShareForm(link) {
	document.getElementById("shareForm").style.display = "block";
	document.getElementById("copyContainer").value = link;
}

function closeShareForm() {
	document.getElementById("shareForm").style.display = "none";
}

</script>

<script src="frameworks/cocos2d-html5/CCBoot.js"></script>
<script cocos src="main.js"></script>

</body>

</html>
